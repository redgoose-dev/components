<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>media-source demo</title>
<link rel="stylesheet" href="../../assets/common.css">
<script type="module" defer>
import MediaSource from './index.js';
// set component
customElements.define('media-source', MediaSource);
// dynamic source
const $dynamicSource = document.getElementById('dynamic-source');
const $buttonImage = document.getElementById('set-image');
const $buttonVideo = document.getElementById('set-video');
const src = {
  image: 'https://goose.redgoose.me/data/upload/original/202010/rg-20180513-000007.jpg',
  video: 'http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
};
$buttonImage.addEventListener('click', function() {
  $dynamicSource.setAttribute('src', src.image);
  $buttonImage.setAttribute('disabled', '');
  $buttonVideo.removeAttribute('disabled');
});
$buttonVideo.addEventListener('click', function() {
  $dynamicSource.setAttribute('src', src.video);
  $buttonVideo.setAttribute('disabled', '');
  $buttonImage.removeAttribute('disabled');
});
</script>
</head>
<body>
<main>
  <header class="demo-header">
    <h1>media-source demo</h1>
    <p>이미지나 비디오를 표현하는 컴포넌트</p>
  </header>
  <div class="container">
    <section class="section">
      <header>
        <h1>Image</h1>
        <p>이미지 소스를 출력합니다.</p>
      </header>
      <div class="grid">
        <figure class="media">
          <media-source src="https://goose.redgoose.me/data/upload/original/202107/rg-20210521-000011.jpg"></media-source>
          <figcaption>image/jpeg</figcaption>
        </figure>
        <figure class="media">
          <media-source src="https://goose.redgoose.me/data/upload/original/202107/rg-20210521-000012.jpg"></media-source>
          <figcaption>image/jpeg</figcaption>
        </figure>

        <figure class="media">
          <media-source src="https://goose.redgoose.me/data/upload/original/202010/rg-20180513-000024.jpg"></media-source>
          <figcaption>image/jpeg</figcaption>
        </figure>
        <figure class="media">
          <media-source src="https://goose.redgoose.me/data/upload/original/202010/rg-20180513-000031.jpg"></media-source>
          <figcaption>image/jpeg</figcaption>
        </figure>
      </div>
    </section>
    <section class="section">
      <header>
        <h1>Video</h1>
        <p>비디오 소스를 출력합니다. 비디오가 로딩되면 자동재생되며 반복된다.</p>
      </header>
      <div class="grid">
        <figure class="media">
          <media-source
            src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"
            poster="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/images/BigBuckBunny.jpg"></media-source>
          <figcaption>video/mp4</figcaption>
        </figure>
        <figure class="media">
          <media-source
            src="https://va.media.tumblr.com/tumblr_o600t8hzf51qcbnq0_480.mp4"
            poster="https://media.w3.org/2010/05/sintel/poster.png"></media-source>
          <figcaption>video/mp4</figcaption>
        </figure>
      </div>
    </section>
    <section class="section">
      <header>
        <h1>Video/Image switch</h1>
        <p>비디오와 이미지를 동적으로 변경한다.</p>
      </header>
      <figure class="media">
        <media-source
          id="dynamic-source"
          src="https://goose.redgoose.me/data/upload/original/202010/rg-20180513-000007.jpg"
          style="--media-width: 100%"></media-source>
        <figcaption>video/mp4</figcaption>
      </figure>
      <nav class="controls">
        <button type="button" id="set-image" disabled class="button">Image</button>
        <button type="button" id="set-video" class="button">Video</button>
      </nav>
    </section>
  </div>
</main>
</body>
</html>
